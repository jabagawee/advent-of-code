#!/bin/bash -e

NUM=$1
YEAR=${2-2019} # Most recent puzzle year

if [[ -z "$NUM" ]]; then
  echo "USAGE: ./start number [year]"
  exit 1
fi

# these are relevant once a year
mkdir -p "solutions/$YEAR/inputs"
mkdir -p "solutions/$YEAR/code"

touch "solutions/$YEAR/inputs/$NUM.txt" # this is safe either way

if [[ -e "solutions/$YEAR/code/day_$NUM.py" ]];then
  echo 'skipping solution creation, file already exists'
else
  # replace placeholders in template file
  sed -e "s/<YEAR>/$YEAR/" -e "s/<DAY>/$NUM/" example_solution.py.tmpl > "solutions/$YEAR/code/day_$NUM.py"
  echo "Created Files for Day $NUM ($YEAR)"
fi
